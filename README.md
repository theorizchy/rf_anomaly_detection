## Overview
`rf_anomaly_detection` is a real-time hidden camera detector.
We are using a Deep Learning model, processing captured RF activity generated by Electromagnetic Emanation
produced by the hidden camera.

## Setup needed
- RaspberryPi 4B or ESP-32 Cam
- Raspi Camera 2.1
- Keyboard and mouse to interface with RaspberryPi Camera
- SignalHound BB60C to capture RF activity with antenna

## Follow these steps to start using `rf_anomaly_detection`

### 1. Create a python virtual environment
```
python -m venv venv
```

### 2. [OPTIONAL] Create an alias for virtual-environment activation
```
nano ~/.bashrc
alias activate='source venv/bin/activate'
source ~/.bashrc
activate
```

### 3. Install all the required dependencies
```
pip install -Ur requirements.txt
```
### 4. Download SPIKE software
Go to https://signalhound.com/spike/ and download the suitable file format

| Architecture |    Operating System      | Header 3    |
|--------------|--------------------------|-------------|
|    32-bit    |    Windows 7,8,10,11     | [Click Here](https://signalhound.com/sigdownloads/Spike/Spike(x86)_3_9_0.zip) |
|    64-bit    |    Windows 7,8,10,11     | [Click Here](https://signalhound.com/sigdownloads/Spike/Spike(x64)_3_9_0.zip) |
|    64-bit    | Ubuntu 22.04/20.04/18.04 | [Click Here](https://signalhound.com/sigdownloads/Spike/Spike(Ubuntu22.04x64)_3_9_0.zip)     | |


### 5. Connect SignalHound (Tested with BB60C)

### 6. Launch the spike.exe

### 7. Start real-time anomaly detection
```
python reaaltime_anomaly_detector.py
```

### 8. Generated files
The generated output logs will be stored under "output_file/".
Each file will starts with "real_time_SWEEP_"

##### Sample output
```
[KNOWN] The new camera data is most similar to the camera_1 with similarity score: 89.033%
Saved data and prediction at 2024-08-15 17:22:45.588995, camera: ON (confidence: 100.000%)
1/1 [==============================] - 0s 17ms/step
1/1 [==============================] - 0s 12ms/step
1/1 [==============================] - 0s 19ms/step
1/1 [==============================] - 0s 16ms/step
[KNOWN] The new camera data is most similar to the camera_1 with similarity score: 88.322%
Saved data and prediction at 2024-08-15 17:22:45.779757, camera: ON (confidence: 100.000%)
1/1 [==============================] - 0s 18ms/step
1/1 [==============================] - 0s 12ms/step
1/1 [==============================] - 0s 17ms/step
1/1 [==============================] - 0s 2ms/step
[KNOWN] The new camera data is most similar to the camera_1 with similarity score: 88.354%
Saved data and prediction at 2024-08-15 17:22:45.962733, camera: ON (confidence: 100.000%)
1/1 [==============================] - 0s 17ms/step
1/1 [==============================] - 0s 11ms/step
1/1 [==============================] - 0s 21ms/step
1/1 [==============================] - 0s 6ms/step
[KNOWN] The new camera data is most similar to the camera_1 with similarity score: 86.865%
Saved data and prediction at 2024-08-15 17:22:46.149401, camera: ON (confidence: 100.000%)
1/1 [==============================] - 0s 7ms/step
1/1 [==============================] - 0s 16ms/step
1/1 [==============================] - 0s 16ms/step
1/1 [==============================] - 0s 16ms/step
[KNOWN] The new camera data is most similar to the camera_1 with similarity score: 83.934%
Saved data and prediction at 2024-08-15 17:22:46.337526, camera: ON (confidence: 100.000%)
1/1 [==============================] - 0s 13ms/step
1/1 [==============================] - 0s 12ms/step
1/1 [==============================] - 0s 3ms/step
1/1 [==============================] - 0s 15ms/step
[KNOWN] The new camera data is most similar to the camera_1 with similarity score: 86.757%
Saved data and prediction at 2024-08-15 17:22:46.515428, camera: ON (confidence: 100.000%)
1/1 [==============================] - 0s 18ms/step
1/1 [==============================] - 0s 13ms/step
1/1 [==============================] - 0s 13ms/step
1/1 [==============================] - 0s 6ms/step
[KNOWN] The new camera data is most similar to the camera_1 with similarity score: 86.530%
Saved data and prediction at 2024-08-15 17:22:46.695669, camera: ON (confidence: 100.000%)
1/1 [==============================] - 0s 5ms/step
1/1 [==============================] - 0s 12ms/step
1/1 [==============================] - 0s 7ms/step
1/1 [==============================] - 0s 10ms/step
[KNOWN] The new camera data is most similar to the camera_1 with similarity score: 86.952%
Saved data and prediction at 2024-08-15 17:22:46.885549, camera: ON (confidence: 100.000%)
End of simulated data. Exiting...
Number of predictions=0: 0
Number of predictions=1: 99
   - [camera_1]: 99
Time taken for predicting camera operational state:
   - min: 35.418 ms
   - avg: 58.338 ms
   - max: 450.114 ms
Time taken for distinguishing camera signature:
   - min: 102.999 ms
   - avg: 122.926 ms
   - max: 250.298 ms
(venv) 
```